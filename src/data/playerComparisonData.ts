// Fallback player comparison data when API data is not available
// This provides detailed statistics similar to SofaScore

export interface DetailedPlayerStats {
  // General
  age?: number;
  height?: string; // in cm
  marketValue?: string; // in €
  sofascoreRating?: number;
  
  // Matches
  minutesPerGame?: number;
  totalMinutes?: number;
  matchesPlayed?: number;
  
  // Goalkeeping (for goalkeepers)
  goalsConceded?: number;
  saves?: number;
  goalsPrevented?: number;
  cleanSheets?: number;
  accuratePasses?: number;
  accurateLongBalls?: number; // percentage
  
  // Attacking
  goals?: number;
  goalsPerGame?: number;
  shotsOffTarget?: number;
  shotsOnTarget?: number;
  bigChancesMissed?: number;
  
  // Passes
  assists?: number;
  assistsPerGame?: number;
  expectedAssists?: number;
  bigChancesCreated?: number;
  longBalls?: number; // per game with percentage
  longBallsPercentage?: number;
  crosses?: number; // per game with percentage
  crossesPercentage?: number;
  
  // Defending
  interceptions?: number; // per game
  tackles?: number; // per game
  dribbledPast?: number; // per game
  clearances?: number; // per game
  blockedShots?: number; // per game
  
  // Other
  successfulDribbles?: number; // per game with percentage
  successfulDribblesPercentage?: number;
  groundDuelsWon?: number; // per game with percentage
  groundDuelsWonPercentage?: number;
  aerialDuelsWon?: number; // per game with percentage
  aerialDuelsWonPercentage?: number;
  possessionLost?: number; // per game
  fouls?: number; // per game
  wasFouled?: number; // per game
  
  // Cards
  yellowCards?: number;
  yellowRedCards?: number;
  redCards?: number;
  
  // Heatmap
  heatmapUrl?: string;
}

// Fallback data for known players
export const playerComparisonFallback: Record<string, DetailedPlayerStats> = {
  'David Raya': {
    age: 30,
    height: '183 cm',
    marketValue: '43M €',
    sofascoreRating: 7.2,
    minutesPerGame: 90,
    totalMinutes: 990,
    matchesPlayed: 11,
    goalsConceded: 5,
    saves: 16,
    goalsPrevented: -0.44,
    cleanSheets: 7,
    accuratePasses: 20.0,
    accurateLongBalls: 5.5,
    goals: 0,
    goalsPerGame: 0.0,
    shotsOffTarget: 0.0,
    shotsOnTarget: 0.0,
    bigChancesMissed: 0,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.05,
    bigChancesCreated: 0,
    longBalls: 5.5,
    longBallsPercentage: 35,
    crosses: 0.0,
    crossesPercentage: 0,
    interceptions: 0.0,
    tackles: 0.0,
    dribbledPast: 0.0,
    clearances: 0.8,
    blockedShots: 0.0,
    successfulDribbles: 0.0,
    successfulDribblesPercentage: 0,
    groundDuelsWon: 0.09,
    groundDuelsWonPercentage: 100.0,
    aerialDuelsWon: 0.2,
    aerialDuelsWonPercentage: 100.0,
    possessionLost: 10.5,
    fouls: 0.0,
    wasFouled: 0.09,
    yellowCards: 1,
    yellowRedCards: 0,
    redCards: 0
  },
  'Kepa Arrizabalaga': {
    age: 31,
    height: '188 cm',
    marketValue: '25M €',
    sofascoreRating: 6.9,
    minutesPerGame: 90,
    totalMinutes: 2790,
    matchesPlayed: 31,
    goalsConceded: 39,
    saves: 97,
    goalsPrevented: 2.14,
    cleanSheets: 8,
    accuratePasses: 20.5,
    accurateLongBalls: 5.6,
    goals: 0,
    goalsPerGame: 0.0,
    shotsOffTarget: 0.0,
    shotsOnTarget: 0.0,
    bigChancesMissed: 0,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.05,
    bigChancesCreated: 0,
    longBalls: 5.6,
    longBallsPercentage: 40,
    crosses: 0.0,
    crossesPercentage: 0,
    interceptions: 0.0,
    tackles: 0.03,
    dribbledPast: 0.06,
    clearances: 1.2,
    blockedShots: 0.0,
    successfulDribbles: 0.03,
    successfulDribblesPercentage: 100,
    groundDuelsWon: 0.2,
    groundDuelsWonPercentage: 64,
    aerialDuelsWon: 0.3,
    aerialDuelsWonPercentage: 89,
    possessionLost: 8.9,
    fouls: 0.06,
    wasFouled: 0.2,
    yellowCards: 3,
    yellowRedCards: 0,
    redCards: 0
  },
  'Illan Meslier': {
    age: 25,
    height: '196 cm',
    marketValue: '13.1M €',
    sofascoreRating: 6.8,
    minutesPerGame: 90,
    totalMinutes: 3510,
    matchesPlayed: 39,
    goalsConceded: 27,
    saves: 65,
    goalsPrevented: -2.73,
    cleanSheets: 21,
    accuratePasses: 22.6,
    accurateLongBalls: 2.5,
    goals: 0,
    goalsPerGame: 0.0,
    shotsOffTarget: 0.0,
    shotsOnTarget: 0.0,
    bigChancesMissed: 0,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.03,
    bigChancesCreated: 0,
    longBalls: 2.5,
    longBallsPercentage: 27,
    crosses: 0.0,
    crossesPercentage: 0,
    interceptions: 0.0,
    tackles: 0.0,
    dribbledPast: 0.0,
    clearances: 0.9,
    blockedShots: 0.0,
    successfulDribbles: 0.03,
    successfulDribblesPercentage: 100,
    groundDuelsWon: 0.3,
    groundDuelsWonPercentage: 100.0,
    aerialDuelsWon: 0.5,
    aerialDuelsWonPercentage: 100.0,
    possessionLost: 7.1,
    fouls: 0.0,
    wasFouled: 0.3,
    yellowCards: 0,
    yellowRedCards: 0,
    redCards: 0
  },
  'Karl Darlow': {
    age: 35,
    height: '185 cm',
    marketValue: '210K €',
    sofascoreRating: null,
    minutesPerGame: 90,
    totalMinutes: 450,
    matchesPlayed: 5,
    goalsConceded: 8,
    saves: 13,
    goalsPrevented: -2.69,
    cleanSheets: 0,
    accuratePasses: 21.0,
    accurateLongBalls: 6.6,
    goals: 0,
    goalsPerGame: 0.0,
    shotsOffTarget: 0.0,
    shotsOnTarget: 0.0,
    bigChancesMissed: 0,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.01,
    bigChancesCreated: 0,
    longBalls: 6.6,
    longBallsPercentage: 31,
    crosses: 0.0,
    crossesPercentage: 0,
    interceptions: 0.0,
    tackles: 0.0,
    dribbledPast: 0.0,
    clearances: 1.2,
    blockedShots: 0.0,
    successfulDribbles: 0.0,
    successfulDribblesPercentage: 0,
    groundDuelsWon: 0.6,
    groundDuelsWonPercentage: 100.0,
    aerialDuelsWon: 0.6,
    aerialDuelsWonPercentage: 100.0,
    possessionLost: 15.0,
    fouls: 0.0,
    wasFouled: 0.8,
    yellowCards: 0,
    yellowRedCards: 0,
    redCards: 0
  },
  'Lucas Perri': {
    age: 27,
    height: '196 cm',
    marketValue: '14.7M €',
    sofascoreRating: 7.1,
    minutesPerGame: 90,
    totalMinutes: 540,
    matchesPlayed: 6,
    goalsConceded: 12,
    saves: 12,
    goalsPrevented: -0.06,
    cleanSheets: 2,
    accuratePasses: 20.5,
    accurateLongBalls: 6.3,
    goals: 0,
    goalsPerGame: 0.0,
    shotsOffTarget: 0.0,
    shotsOnTarget: 0.0,
    bigChancesMissed: 0,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.01,
    bigChancesCreated: 0,
    longBalls: 6.3,
    longBallsPercentage: 30,
    crosses: 0.0,
    crossesPercentage: 0,
    interceptions: 0.0,
    tackles: 0.0,
    dribbledPast: 0.0,
    clearances: 1.2,
    blockedShots: 0.0,
    successfulDribbles: 0.0,
    successfulDribblesPercentage: 0,
    groundDuelsWon: 0.0,
    groundDuelsWonPercentage: 0,
    aerialDuelsWon: 0.3,
    aerialDuelsWonPercentage: 100.0,
    possessionLost: 15.3,
    fouls: 0.0,
    wasFouled: 0.0,
    yellowCards: 1,
    yellowRedCards: 0,
    redCards: 0
  },
  'Alex Cairns': {
    age: 32,
    height: '183 cm',
    marketValue: '91K €',
    sofascoreRating: null,
    minutesPerGame: 90,
    totalMinutes: 270,
    matchesPlayed: 3,
    goalsConceded: 7,
    saves: 20,
    goalsPrevented: null,
    cleanSheets: 0,
    accuratePasses: 26.7,
    accurateLongBalls: 12.3,
    goals: 0,
    goalsPerGame: 0.0,
    shotsOffTarget: 0.0,
    shotsOnTarget: 0.0,
    bigChancesMissed: 0,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0,
    bigChancesCreated: 0,
    longBalls: 12.3,
    longBallsPercentage: 46,
    crosses: 0.0,
    crossesPercentage: 0,
    interceptions: 0.0,
    tackles: 0.0,
    dribbledPast: 0.0,
    clearances: 1.0,
    blockedShots: 0.0,
    successfulDribbles: 0.0,
    successfulDribblesPercentage: 0,
    groundDuelsWon: 0.0,
    groundDuelsWonPercentage: 0,
    aerialDuelsWon: 0.0,
    aerialDuelsWonPercentage: 0,
    possessionLost: 15.7,
    fouls: 0.0,
    wasFouled: 0.0,
    yellowCards: 1,
    yellowRedCards: 0,
    redCards: 0
  },
  'Ethan Ampadu': {
    age: 25,
    height: '182 cm',
    marketValue: '18.6M €',
    sofascoreRating: 7.1,
    minutesPerGame: 88,
    totalMinutes: 789,
    matchesPlayed: 9,
    goalsConceded: null,
    saves: null,
    goalsPrevented: null,
    cleanSheets: 0,
    accuratePasses: 48.3,
    accurateLongBalls: 2.1,
    goals: 0,
    goalsPerGame: 0.0,
    shotsOffTarget: 0.6,
    shotsOnTarget: 0.0,
    bigChancesMissed: 0,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.22,
    bigChancesCreated: 0,
    longBalls: 2.1,
    longBallsPercentage: 45,
    crosses: 0.3,
    crossesPercentage: 43,
    interceptions: 1.2,
    tackles: 2.6,
    dribbledPast: 0.4,
    clearances: 2.3,
    blockedShots: 0.3,
    successfulDribbles: 0.3,
    successfulDribblesPercentage: 75,
    groundDuelsWon: 3.4,
    groundDuelsWonPercentage: 60,
    aerialDuelsWon: 0.9,
    aerialDuelsWonPercentage: 50,
    possessionLost: 11.2,
    fouls: 1.8,
    wasFouled: 0.7,
    yellowCards: 3,
    yellowRedCards: 0,
    redCards: 0
  },
  'James Justin': {
    age: 27,
    height: '183 cm',
    marketValue: '13.4M €',
    sofascoreRating: 6.5,
    minutesPerGame: 18,
    totalMinutes: 90,
    matchesPlayed: 5,
    goalsConceded: null,
    saves: null,
    goalsPrevented: null,
    cleanSheets: 0,
    accuratePasses: 5.0,
    accurateLongBalls: 0.6,
    goals: 0,
    goalsPerGame: 0.0,
    shotsOffTarget: 0.0,
    shotsOnTarget: 0.0,
    bigChancesMissed: 0,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.01,
    bigChancesCreated: 0,
    longBalls: 0.6,
    longBallsPercentage: 60,
    crosses: 0.0,
    crossesPercentage: 0,
    interceptions: 0.6,
    tackles: 0.2,
    dribbledPast: 0.0,
    clearances: 1.2,
    blockedShots: 0.0,
    successfulDribbles: 0.0,
    successfulDribblesPercentage: 0,
    groundDuelsWon: 0.6,
    groundDuelsWonPercentage: 50,
    aerialDuelsWon: 0.0,
    aerialDuelsWonPercentage: 0,
    possessionLost: 2.4,
    fouls: 0.2,
    wasFouled: 0.4,
    yellowCards: 1,
    yellowRedCards: 0,
    redCards: 0
  },
  'Sam Byram': {
    age: 32,
    height: '183 cm',
    marketValue: '775K €',
    sofascoreRating: 7.1,
    minutesPerGame: 8,
    totalMinutes: 8,
    matchesPlayed: 1,
    goalsConceded: null,
    saves: null,
    goalsPrevented: null,
    cleanSheets: 0,
    accuratePasses: 1.0,
    accurateLongBalls: 0.0,
    goals: 0,
    goalsPerGame: 0.0,
    shotsOffTarget: 0.0,
    shotsOnTarget: 0.0,
    bigChancesMissed: 0,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.00,
    bigChancesCreated: 0,
    longBalls: 0.0,
    longBallsPercentage: 0,
    crosses: 0.0,
    crossesPercentage: 0,
    interceptions: 0.0,
    tackles: 0.0,
    dribbledPast: 0.0,
    clearances: 0.0,
    blockedShots: 0.0,
    successfulDribbles: 0.0,
    successfulDribblesPercentage: 0,
    groundDuelsWon: 0.0,
    groundDuelsWonPercentage: 0,
    aerialDuelsWon: 0.0,
    aerialDuelsWonPercentage: 0,
    possessionLost: 0.0,
    fouls: 1.0,
    wasFouled: 0.0,
    yellowCards: 0,
    yellowRedCards: 0,
    redCards: 0
  },
  'Joe Rodon': {
    age: 28,
    height: '193 cm',
    marketValue: '10.4M €',
    sofascoreRating: 7.4,
    minutesPerGame: 90,
    totalMinutes: 990,
    matchesPlayed: 11,
    goalsConceded: null,
    saves: null,
    goalsPrevented: null,
    cleanSheets: 2,
    accuratePasses: 51.0,
    accurateLongBalls: 1.5,
    goals: 2,
    goalsPerGame: 0.2,
    shotsOffTarget: 0.3,
    shotsOnTarget: 0.4,
    bigChancesMissed: 1,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.10,
    bigChancesCreated: 0,
    longBalls: 1.5,
    longBallsPercentage: 45,
    crosses: 0.0,
    crossesPercentage: 0,
    interceptions: 0.9,
    tackles: 0.9,
    dribbledPast: 0.2,
    clearances: 6.4,
    blockedShots: 0.5,
    successfulDribbles: 0.09,
    successfulDribblesPercentage: 100,
    groundDuelsWon: 1.5,
    groundDuelsWonPercentage: 68,
    aerialDuelsWon: 3.7,
    aerialDuelsWonPercentage: 57,
    possessionLost: 6.2,
    fouls: 0.6,
    wasFouled: 0.7,
    yellowCards: 0,
    yellowRedCards: 0,
    redCards: 0
  },
  'Pascal Struijk': {
    age: 26,
    height: '190 cm',
    marketValue: '21M €',
    sofascoreRating: 7.1,
    minutesPerGame: 81,
    totalMinutes: 728,
    matchesPlayed: 9,
    goalsConceded: null,
    saves: null,
    goalsPrevented: null,
    cleanSheets: 2,
    accuratePasses: 54.0,
    accurateLongBalls: 2.0,
    goals: 0,
    goalsPerGame: 0.0,
    shotsOffTarget: 0.8,
    shotsOnTarget: 0.1,
    bigChancesMissed: 0,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.09,
    bigChancesCreated: 0,
    longBalls: 2.0,
    longBallsPercentage: 53,
    crosses: 0.0,
    crossesPercentage: 0,
    interceptions: 0.2,
    tackles: 0.7,
    dribbledPast: 0.1,
    clearances: 5.9,
    blockedShots: 0.3,
    successfulDribbles: 0.0,
    successfulDribblesPercentage: 0,
    groundDuelsWon: 1.2,
    groundDuelsWonPercentage: 50,
    aerialDuelsWon: 2.2,
    aerialDuelsWonPercentage: 49,
    possessionLost: 5.3,
    fouls: 0.7,
    wasFouled: 0.6,
    yellowCards: 1,
    yellowRedCards: 0,
    redCards: 0
  },
  'Jaka Bijol': {
    age: 26,
    height: '192 cm',
    marketValue: '16.7M €',
    sofascoreRating: 6.8,
    minutesPerGame: 87,
    totalMinutes: 262,
    matchesPlayed: 3,
    goalsConceded: null,
    saves: null,
    goalsPrevented: null,
    cleanSheets: 0,
    accuratePasses: 66.3,
    accurateLongBalls: 3.0,
    goals: 0,
    goalsPerGame: 0.0,
    shotsOffTarget: 0.0,
    shotsOnTarget: 0.0,
    bigChancesMissed: 0,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.01,
    bigChancesCreated: 0,
    longBalls: 3.0,
    longBallsPercentage: 50,
    crosses: 0.0,
    crossesPercentage: 0,
    interceptions: 1.0,
    tackles: 1.0,
    dribbledPast: 0.7,
    clearances: 5.7,
    blockedShots: 0.0,
    successfulDribbles: 0.3,
    successfulDribblesPercentage: 100,
    groundDuelsWon: 1.7,
    groundDuelsWonPercentage: 45,
    aerialDuelsWon: 2.0,
    aerialDuelsWonPercentage: 75,
    possessionLost: 5.3,
    fouls: 1.3,
    wasFouled: 0.3,
    yellowCards: 0,
    yellowRedCards: 0,
    redCards: 0
  },
  'Sebastiaan Bornauw': {
    age: 26,
    height: '190 cm',
    marketValue: '5.8M €',
    sofascoreRating: 6.6,
    minutesPerGame: 90,
    totalMinutes: 90,
    matchesPlayed: 1,
    goalsConceded: null,
    saves: null,
    goalsPrevented: null,
    cleanSheets: 0,
    accuratePasses: 94.0,
    accurateLongBalls: 2.0,
    goals: 0,
    goalsPerGame: 0.0,
    shotsOffTarget: 0.0,
    shotsOnTarget: 0.0,
    bigChancesMissed: 0,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0,
    bigChancesCreated: 0,
    longBalls: 2.0,
    longBallsPercentage: 67,
    crosses: 0.0,
    crossesPercentage: 0,
    interceptions: 2.0,
    tackles: 1.0,
    dribbledPast: 0.0,
    clearances: 3.0,
    blockedShots: 0.0,
    successfulDribbles: 0.0,
    successfulDribblesPercentage: 0,
    groundDuelsWon: 1.0,
    groundDuelsWonPercentage: 50,
    aerialDuelsWon: 2.0,
    aerialDuelsWonPercentage: 50,
    possessionLost: 5.0,
    fouls: 2.0,
    wasFouled: 0.0,
    yellowCards: 0,
    yellowRedCards: 0,
    redCards: 0
  },
  'Gabriel Gudmundsson': {
    age: 26,
    height: '181 cm',
    marketValue: '12.4M €',
    sofascoreRating: 6.7,
    minutesPerGame: 83,
    totalMinutes: 915,
    matchesPlayed: 11,
    goalsConceded: null,
    saves: null,
    goalsPrevented: null,
    cleanSheets: 1,
    accuratePasses: 27.9,
    accurateLongBalls: 0.9,
    goals: 0,
    goalsPerGame: 0.0,
    shotsOffTarget: 0.4,
    shotsOnTarget: 0.0,
    bigChancesMissed: 0,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 1.05,
    bigChancesCreated: 2,
    longBalls: 0.9,
    longBallsPercentage: 31,
    crosses: 1.1,
    crossesPercentage: 40,
    interceptions: 1.0,
    tackles: 1.8,
    dribbledPast: 0.6,
    clearances: 3.4,
    blockedShots: 0.3,
    successfulDribbles: 1.4,
    successfulDribblesPercentage: 52,
    groundDuelsWon: 4.5,
    groundDuelsWonPercentage: 53,
    aerialDuelsWon: 0.5,
    aerialDuelsWonPercentage: 25,
    possessionLost: 13.2,
    fouls: 0.8,
    wasFouled: 1.3,
    yellowCards: 1,
    yellowRedCards: 0,
    redCards: 0
  },
  'Jayden Bogle': {
    age: 25,
    height: '178 cm',
    marketValue: '10.7M €',
    sofascoreRating: 7.4,
    minutesPerGame: 87,
    totalMinutes: 962,
    matchesPlayed: 11,
    goalsConceded: null,
    saves: null,
    goalsPrevented: null,
    cleanSheets: 2,
    accuratePasses: 21.5,
    accurateLongBalls: 0.9,
    goals: 0,
    goalsPerGame: 0.0,
    shotsOffTarget: 0.5,
    shotsOnTarget: 0.2,
    bigChancesMissed: 2,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.45,
    bigChancesCreated: 1,
    longBalls: 0.9,
    longBallsPercentage: 29,
    crosses: 0.5,
    crossesPercentage: 23,
    interceptions: 1.2,
    tackles: 2.5,
    dribbledPast: 1.1,
    clearances: 2.5,
    blockedShots: 0.2,
    successfulDribbles: 0.7,
    successfulDribblesPercentage: 38,
    groundDuelsWon: 3.9,
    groundDuelsWonPercentage: 47,
    aerialDuelsWon: 0.5,
    aerialDuelsWonPercentage: 38,
    possessionLost: 12.8,
    fouls: 1.1,
    wasFouled: 0.6,
    yellowCards: 2,
    yellowRedCards: 0,
    redCards: 0
  },
  'Sean Longstaff': {
    age: 28,
    height: '187 cm',
    marketValue: '15.3M €',
    sofascoreRating: 6.7,
    minutesPerGame: 72,
    totalMinutes: 790,
    matchesPlayed: 11,
    goalsConceded: null,
    saves: null,
    goalsPrevented: null,
    cleanSheets: null,
    accuratePasses: 26.6,
    accurateLongBalls: 0.7,
    goals: 1,
    goalsPerGame: 0.09,
    shotsOffTarget: 0.7,
    shotsOnTarget: 0.2,
    bigChancesMissed: 0,
    assists: 2,
    assistsPerGame: 0.18,
    expectedAssists: 0.93,
    bigChancesCreated: 5,
    longBalls: 0.7,
    longBallsPercentage: 35,
    crosses: 1.8,
    crossesPercentage: 56,
    interceptions: 0.7,
    tackles: 2.9,
    dribbledPast: 1.5,
    clearances: 0.6,
    blockedShots: 0.5,
    successfulDribbles: 0.0,
    successfulDribblesPercentage: 0,
    groundDuelsWon: 4.3,
    groundDuelsWonPercentage: 57,
    aerialDuelsWon: 0.7,
    aerialDuelsWonPercentage: 50,
    possessionLost: 8.2,
    fouls: 0.5,
    wasFouled: 1.4,
    yellowCards: 1,
    yellowRedCards: 0,
    redCards: 0
  },
  'Anton Stach': {
    age: 26,
    height: '192 cm',
    marketValue: '19.4M €',
    sofascoreRating: 7.2,
    minutesPerGame: 80,
    totalMinutes: 800,
    matchesPlayed: 10,
    goalsConceded: null,
    saves: null,
    goalsPrevented: null,
    cleanSheets: null,
    accuratePasses: 29.1,
    accurateLongBalls: 1.9,
    goals: 1,
    goalsPerGame: 0.1,
    shotsOffTarget: 1.1,
    shotsOnTarget: 0.4,
    bigChancesMissed: 1,
    assists: 1,
    assistsPerGame: 0.1,
    expectedAssists: 0.77,
    bigChancesCreated: 2,
    longBalls: 1.9,
    longBallsPercentage: 61,
    crosses: 0.7,
    crossesPercentage: 32,
    interceptions: 0.5,
    tackles: 1.5,
    dribbledPast: 0.1,
    clearances: 2.0,
    blockedShots: 0.2,
    successfulDribbles: 0.6,
    successfulDribblesPercentage: 40,
    groundDuelsWon: 3.2,
    groundDuelsWonPercentage: 52,
    aerialDuelsWon: 1.7,
    aerialDuelsWonPercentage: 85,
    possessionLost: 11.8,
    fouls: 1.4,
    wasFouled: 1.2,
    yellowCards: 1,
    yellowRedCards: 0,
    redCards: 0
  },
  'Ao Tanaka': {
    age: 27,
    height: '180 cm',
    marketValue: '10.8M €',
    sofascoreRating: 7.2,
    minutesPerGame: 42,
    totalMinutes: 334,
    matchesPlayed: 8,
    goalsConceded: null,
    saves: null,
    goalsPrevented: null,
    cleanSheets: null,
    accuratePasses: 22.0,
    accurateLongBalls: 0.5,
    goals: 0,
    goalsPerGame: 0.0,
    shotsOffTarget: 0.4,
    shotsOnTarget: 0.0,
    bigChancesMissed: 0,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.12,
    bigChancesCreated: 0,
    longBalls: 0.5,
    longBallsPercentage: 50,
    crosses: 0.1,
    crossesPercentage: 20,
    interceptions: 0.9,
    tackles: 0.3,
    dribbledPast: 0.8,
    clearances: 0.0,
    blockedShots: 0.0,
    successfulDribbles: 0.0,
    successfulDribblesPercentage: 0,
    groundDuelsWon: 0.5,
    groundDuelsWonPercentage: 22,
    aerialDuelsWon: 0.4,
    aerialDuelsWonPercentage: 43,
    possessionLost: 4.8,
    fouls: 0.4,
    wasFouled: 0.3,
    yellowCards: 0,
    yellowRedCards: 0,
    redCards: 0
  },
  'Jack Harrison': {
    age: 28,
    height: '175 cm',
    marketValue: '13M €',
    sofascoreRating: 6.5,
    minutesPerGame: 26,
    totalMinutes: 262,
    matchesPlayed: 10,
    goalsConceded: null,
    saves: null,
    goalsPrevented: null,
    cleanSheets: null,
    accuratePasses: 9.2,
    accurateLongBalls: 0.3,
    goals: 0,
    goalsPerGame: 0.0,
    shotsOffTarget: 0.4,
    shotsOnTarget: 0.2,
    bigChancesMissed: 1,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.24,
    bigChancesCreated: 1,
    longBalls: 0.3,
    longBallsPercentage: 27,
    crosses: 0.2,
    crossesPercentage: 12,
    interceptions: 0.4,
    tackles: 0.5,
    dribbledPast: 0.3,
    clearances: 0.2,
    blockedShots: 0.0,
    successfulDribbles: 0.3,
    successfulDribblesPercentage: 43,
    groundDuelsWon: 1.2,
    groundDuelsWonPercentage: 60,
    aerialDuelsWon: 0.1,
    aerialDuelsWonPercentage: 25,
    possessionLost: 5.3,
    fouls: 0.1,
    wasFouled: 0.4,
    yellowCards: 0,
    yellowRedCards: 0,
    redCards: 0
  },
  'Dominic Calvert-Lewin': {
    age: 28,
    height: '187 cm',
    marketValue: '17.2M €',
    sofascoreRating: 6.6,
    minutesPerGame: 68,
    totalMinutes: 615,
    matchesPlayed: 9,
    goalsConceded: null,
    saves: null,
    goalsPrevented: null,
    cleanSheets: null,
    accuratePasses: 7.9,
    accurateLongBalls: 0.2,
    goals: 1,
    goalsPerGame: 0.1,
    shotsOffTarget: 1.0,
    shotsOnTarget: 0.9,
    bigChancesMissed: 6,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.48,
    bigChancesCreated: 1,
    longBalls: 0.2,
    longBallsPercentage: 67,
    crosses: 0.0,
    crossesPercentage: 0,
    interceptions: 0.1,
    tackles: 0.3,
    dribbledPast: 0.1,
    clearances: 0.4,
    blockedShots: 0.0,
    successfulDribbles: 0.2,
    successfulDribblesPercentage: 18,
    groundDuelsWon: 1.6,
    groundDuelsWonPercentage: 33,
    aerialDuelsWon: 3.1,
    aerialDuelsWonPercentage: 41,
    possessionLost: 8.4,
    fouls: 1.1,
    wasFouled: 1.0,
    yellowCards: 0,
    yellowRedCards: 0,
    redCards: 0
  },
  'Noah Okafor': {
    age: 25,
    height: '185 cm',
    marketValue: '19.8M €',
    sofascoreRating: 7.0,
    minutesPerGame: 65,
    totalMinutes: 520,
    matchesPlayed: 8,
    goalsConceded: null,
    saves: null,
    goalsPrevented: null,
    cleanSheets: null,
    accuratePasses: 10.0,
    accurateLongBalls: 1.3,
    goals: 2,
    goalsPerGame: 0.3,
    shotsOffTarget: 0.6,
    shotsOnTarget: 0.4,
    bigChancesMissed: 1,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.47,
    bigChancesCreated: 2,
    longBalls: 1.3,
    longBallsPercentage: 77,
    crosses: 0.3,
    crossesPercentage: 15,
    interceptions: 0.5,
    tackles: 1.3,
    dribbledPast: 0.5,
    clearances: 0.4,
    blockedShots: 0.0,
    successfulDribbles: 2.1,
    successfulDribblesPercentage: 45,
    groundDuelsWon: 4.3,
    groundDuelsWonPercentage: 44,
    aerialDuelsWon: 0.5,
    aerialDuelsWonPercentage: 57,
    possessionLost: 12.5,
    fouls: 1.0,
    wasFouled: 0.9,
    yellowCards: 2,
    yellowRedCards: 0,
    redCards: 0
  },
  'Daniel James': {
    age: 28,
    height: '172 cm',
    marketValue: '16.9M €',
    sofascoreRating: 7.6,
    minutesPerGame: 37,
    totalMinutes: 293,
    matchesPlayed: 8,
    goalsConceded: null,
    saves: null,
    goalsPrevented: null,
    cleanSheets: null,
    accuratePasses: 3.6,
    accurateLongBalls: 0.1,
    goals: 0,
    goalsPerGame: 0.0,
    shotsOffTarget: 0.8,
    shotsOnTarget: 0.1,
    bigChancesMissed: 1,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.53,
    bigChancesCreated: 1,
    longBalls: 0.1,
    longBallsPercentage: 25,
    crosses: 0.5,
    crossesPercentage: 19,
    interceptions: 0.0,
    tackles: 0.3,
    dribbledPast: 0.4,
    clearances: 0.1,
    blockedShots: 0.0,
    successfulDribbles: 0.1,
    successfulDribblesPercentage: 13,
    groundDuelsWon: 0.9,
    groundDuelsWonPercentage: 37,
    aerialDuelsWon: 0.3,
    aerialDuelsWonPercentage: 67,
    possessionLost: 7.3,
    fouls: 0.1,
    wasFouled: 0.5,
    yellowCards: 0,
    yellowRedCards: 0,
    redCards: 0
  },
  'Lukas Nmecha': {
    age: 26,
    height: '185 cm',
    marketValue: '4.6M €',
    sofascoreRating: 6.7,
    minutesPerGame: 25,
    totalMinutes: 279,
    matchesPlayed: 11,
    goalsConceded: null,
    saves: null,
    goalsPrevented: null,
    cleanSheets: null,
    accuratePasses: 3.1,
    accurateLongBalls: 0.0,
    goals: 2,
    goalsPerGame: 0.2,
    shotsOffTarget: 0.3,
    shotsOnTarget: 0.4,
    bigChancesMissed: 2,
    assists: 0,
    assistsPerGame: 0.0,
    expectedAssists: 0.05,
    bigChancesCreated: 0,
    longBalls: 0.0,
    longBallsPercentage: 0,
    crosses: 0.0,
    crossesPercentage: 0,
    interceptions: 0.09,
    tackles: 0.09,
    dribbledPast: 0.09,
    clearances: 0.6,
    blockedShots: 0.09,
    successfulDribbles: 0.0,
    successfulDribblesPercentage: 0,
    groundDuelsWon: 0.5,
    groundDuelsWonPercentage: 30,
    aerialDuelsWon: 0.7,
    aerialDuelsWonPercentage: 47,
    possessionLost: 3.1,
    fouls: 0.5,
    wasFouled: 0.5,
    yellowCards: 0,
    yellowRedCards: 0,
    redCards: 0
  }
};

export const getPlayerComparisonData = (playerName: string, playerData: any): DetailedPlayerStats => {
  // First check fallback data
  const fallback = playerComparisonFallback[playerName];
  if (fallback) {
    // Merge with actual player data if available to get latest stats
    const merged = { ...fallback };
    if (playerData?.seasonStats?.competitions) {
      const primaryComp = playerData.seasonStats.competitions[0];
      if (primaryComp?.averageRating) {
        merged.sofascoreRating = primaryComp.averageRating;
      }
    }
    return merged;
  }
  
  // Otherwise, try to extract from playerData
  const stats: DetailedPlayerStats = {};
  
  if (playerData?.age) stats.age = playerData.age;
  if (playerData?.bio?.height) stats.height = playerData.bio.height;
  
  // Extract from seasonStats if available
  if (playerData?.seasonStats?.competitions && playerData.seasonStats.competitions.length > 0) {
    const competitions = playerData.seasonStats.competitions;
    const primaryComp = competitions[0]; // Use primary competition for detailed stats
    
    // Basic match stats
    stats.matchesPlayed = competitions.reduce((sum: number, c: any) => sum + (c.matches || 0), 0);
    stats.totalMinutes = competitions.reduce((sum: number, c: any) => sum + (c.minutes || 0), 0);
    stats.minutesPerGame = primaryComp?.minutesPerGame || (stats.matchesPlayed > 0 ? Math.round(stats.totalMinutes / stats.matchesPlayed) : 0);
    
    // Average rating
    if (primaryComp?.averageRating) {
      stats.sofascoreRating = typeof primaryComp.averageRating === 'number' 
        ? primaryComp.averageRating 
        : parseFloat(primaryComp.averageRating) || undefined;
    }
    
    const isGoalkeeper = playerData.position?.toLowerCase().includes('goalkeeper');
    
    if (isGoalkeeper) {
      // Goalkeeping stats
      stats.goalsConceded = primaryComp?.goalsConceded ?? competitions.reduce((sum: number, c: any) => sum + (c.goalsConceded || 0), 0);
      stats.cleanSheets = primaryComp?.cleanSheets ?? competitions.reduce((sum: number, c: any) => sum + (c.cleanSheets || 0), 0);
      stats.saves = primaryComp?.saves;
      stats.goalsPrevented = primaryComp?.goalsPrevented;
      stats.accuratePasses = primaryComp?.accuratePasses;
      stats.accurateLongBalls = primaryComp?.accurateLongBalls;
    } else {
      // Attacking stats
      stats.goals = primaryComp?.goals ?? competitions.reduce((sum: number, c: any) => sum + (c.goals || 0), 0);
      stats.goalsPerGame = primaryComp?.goalsPerGame ?? (stats.matchesPlayed > 0 ? parseFloat((stats.goals / stats.matchesPlayed).toFixed(1)) : 0);
      stats.shotsOffTarget = primaryComp?.shotsOffTarget;
      stats.shotsOnTarget = primaryComp?.shotsOnTarget;
      stats.bigChancesMissed = primaryComp?.bigChancesMissed;
      
      // Passing stats
      stats.assists = primaryComp?.assists ?? competitions.reduce((sum: number, c: any) => sum + (c.assists || 0), 0);
      stats.assistsPerGame = primaryComp?.assistsPerGame ?? (stats.matchesPlayed > 0 ? parseFloat((stats.assists / stats.matchesPlayed).toFixed(1)) : 0);
      stats.expectedAssists = primaryComp?.expectedAssists;
      stats.bigChancesCreated = primaryComp?.bigChancesCreated;
      stats.longBalls = primaryComp?.longBalls;
      stats.longBallsPercentage = primaryComp?.longBallsPercentage;
      stats.crosses = primaryComp?.crosses;
      stats.crossesPercentage = primaryComp?.crossesPercentage;
      
      // Defending stats
      stats.interceptions = primaryComp?.interceptions;
      stats.tackles = primaryComp?.tackles;
      stats.dribbledPast = primaryComp?.dribbledPast;
      stats.clearances = primaryComp?.clearances;
      stats.blockedShots = primaryComp?.blockedShots;
      
      // Other stats
      stats.successfulDribbles = primaryComp?.successfulDribbles;
      stats.successfulDribblesPercentage = primaryComp?.successfulDribblesPercentage;
      stats.groundDuelsWon = primaryComp?.groundDuelsWon;
      stats.groundDuelsWonPercentage = primaryComp?.groundDuelsWonPercentage;
      stats.aerialDuelsWon = primaryComp?.aerialDuelsWon;
      stats.aerialDuelsWonPercentage = primaryComp?.aerialDuelsWonPercentage;
      stats.possessionLost = primaryComp?.possessionLost;
      stats.fouls = primaryComp?.fouls;
      stats.wasFouled = primaryComp?.wasFouled;
      
      // Cards
      stats.yellowCards = primaryComp?.yellowCards ?? competitions.reduce((sum: number, c: any) => sum + (c.yellowCards || 0), 0);
      stats.yellowRedCards = primaryComp?.yellowRedCards;
      stats.redCards = primaryComp?.redCards ?? competitions.reduce((sum: number, c: any) => sum + (c.redCards || 0), 0);
    }
  }
  
  return stats;
};

