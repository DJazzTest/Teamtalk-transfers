<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Club Player Images</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      :root {
        color-scheme: dark light;
        --bg: #050814;
        --bg-alt: #0f172a;
        --card-bg: #020617;
        --border-subtle: #1f2937;
        --text: #e5e7eb;
        --muted: #9ca3af;
        --accent: #38bdf8;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
          "Segoe UI", sans-serif;
        background: radial-gradient(circle at top left, #0f172a, #020617 55%, #000 100%);
        color: var(--text);
      }

      .page {
        min-height: 100vh;
        padding: 32px 20px 40px;
        max-width: 1280px;
        margin: 0 auto;
      }

      header {
        margin-bottom: 24px;
        padding: 16px 20px;
        border-radius: 16px;
        background: linear-gradient(135deg, rgba(56, 189, 248, 0.12), rgba(59, 130, 246, 0.04));
        border: 1px solid rgba(148, 163, 184, 0.35);
        backdrop-filter: blur(18px);
      }

      header h1 {
        margin: 0 0 4px;
        font-size: 1.6rem;
        letter-spacing: 0.02em;
      }

      header p {
        margin: 0;
        color: var(--muted);
        font-size: 0.9rem;
      }

      #clubs {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      .club {
        border-radius: 18px;
        border: 1px solid var(--border-subtle);
        background: radial-gradient(circle at top left, #020617, #020617 40%, #020617 100%);
        padding: 16px 18px 14px;
      }

      .club-header {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        gap: 8px;
        margin-bottom: 10px;
      }

      .club-name {
        font-size: 1.1rem;
        font-weight: 600;
      }

      .club-meta {
        font-size: 0.8rem;
        color: var(--muted);
      }

      .players-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 10px;
      }

      .player-card {
        border-radius: 14px;
        border: 1px solid rgba(31, 41, 55, 0.9);
        background: radial-gradient(circle at top left, #020617, #020617 40%, #020617 100%);
        padding: 8px 8px 10px;
        display: flex;
        flex-direction: column;
        align-items: stretch;
        gap: 6px;
      }

      .player-name {
        font-size: 0.85rem;
        font-weight: 500;
        color: #e5e7eb;
      }

      .player-image-wrapper {
        border-radius: 10px;
        background: #020617;
        border: 1px solid rgba(30, 64, 175, 0.5);
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 6px;
      }

      .player-image {
        display: block;
        max-width: 100%;
        height: auto;
      }

      .status {
        margin-top: 10px;
        font-size: 0.8rem;
        color: var(--muted);
      }

      @media (max-width: 640px) {
        .page {
          padding-inline: 14px;
        }

        header {
          padding-inline: 14px;
        }

        .club {
          padding-inline: 14px;
        }
      }
    </style>
  </head>
  <body>
    <div class="page">
      <header>
        <h1>Club Player Images</h1>
        <p>
          Each club section shows the club name, followed by every player name with
          their image directly underneath.
        </p>
      </header>

      <div id="clubs"></div>
      <div id="status" class="status"></div>
    </div>

    <script>
      // Existing club manifests – only club, player name & image are used.
      const manifestPaths = [
        "/player-images/arsenal/manifest.json",
        "/player-images/aston-villa/manifest.json",
        "/player-images/bournemouth/manifest.json",
        "/player-images/brentford/manifest.json",
        "/player-images/brighton/manifest.json",
        "/player-images/burnley/manifest.json",
        "/player-images/chelsea/manifest.json",
        "/player-images/crystal-palace/manifest.json",
        "/player-images/everton/manifest.json",
        "/player-images/fulham/manifest.json",
        "/player-images/liverpool/manifest.json",
        "/player-images/man-city/manifest.json",
        "/player-images/man-utd/manifest.json",
        "/player-images/newcastle-utd/manifest.json",
        "/player-images/nottingham/manifest.json",
        "/player-images/sunderland/manifest.json",
        "/player-images/tottenham/manifest.json",
        "/player-images/west-ham/manifest.json",
        "/player-images/wolverhampton/manifest.json",
        "/player-images/leeds-united/manifest.json"
      ];

      async function loadClubs() {
        const clubsRoot = document.getElementById("clubs");
        const statusEl = document.getElementById("status");

        statusEl.textContent = "Loading club and player images…";

        let loadedClubs = 0;
        for (const path of manifestPaths) {
          try {
            const res = await fetch(path);
            if (!res.ok) continue;

            const data = await res.json();
            const club = document.createElement("section");
            club.className = "club";

            const header = document.createElement("div");
            header.className = "club-header";

            const nameEl = document.createElement("div");
            nameEl.className = "club-name";
            nameEl.textContent = data.team || path.split("/")[2] || "Unknown club";

            const metaEl = document.createElement("div");
            metaEl.className = "club-meta";
            metaEl.textContent = `${(data.images || []).length} players`;

            header.appendChild(nameEl);
            header.appendChild(metaEl);
            club.appendChild(header);

            const grid = document.createElement("div");
            grid.className = "players-grid";

            (data.images || []).forEach((player) => {
              const card = document.createElement("div");
              card.className = "player-card";

              const name = document.createElement("div");
              name.className = "player-name";
              name.textContent = player.name || "Unknown player";

              const imgWrapper = document.createElement("div");
              imgWrapper.className = "player-image-wrapper";

              const img = document.createElement("img");
              img.className = "player-image";
              img.loading = "lazy";
              img.alt = player.name || "";
              img.src = player.image;

              imgWrapper.appendChild(img);
              card.appendChild(name);
              card.appendChild(imgWrapper);
              grid.appendChild(card);
            });

            club.appendChild(grid);
            clubsRoot.appendChild(club);
            loadedClubs += 1;
          } catch (e) {
            // Ignore individual club failures to keep the rest rendering.
          }
        }

        statusEl.textContent =
          loadedClubs > 0
            ? `Loaded ${loadedClubs} club(s) with player images.`
            : "No club manifests could be loaded.";
      }

      window.addEventListener("DOMContentLoaded", loadClubs);
    </script>
  </body>
  </html>

